import{d as F,u as T,s as V,c as i,a as t,m as l,b as N,w as I,F as M,r as Q,t as e,p as f,f as m,g as S,q as B,o as a,h as g,_ as D}from"./index-DKfT9gvk.js";const $={class:"cart-view"},L={class:"container"},R={key:0,class:"empty-cart"},z={key:1,class:"cart-content"},E={class:"cart-items"},j=["src","alt"],A={class:"cart-item-info"},G={class:"item-description"},H={key:0,class:"special-instructions"},J={class:"item-details"},K={class:"item-category"},O={class:"item-prep-time"},P={class:"cart-item-controls"},U={class:"quantity-control"},W=["onClick"],X={class:"quantity"},Y=["onClick"],Z={class:"item-price"},tt=["onClick"],st={class:"cart-summary"},nt={class:"summary-details"},ot={class:"summary-row"},et={class:"summary-row"},it={key:0,class:"summary-row discount"},at={class:"summary-row total"},lt={class:"estimated-time"},rt={class:"time"},ut=F({__name:"CartView",setup(dt){const b=B(),r=T(),{cartItems:c,cartTotal:u}=V(r),{clearCart:v}=r,p=m(()=>u.value>50?0:5),_=m(()=>u.value>100?10:0),y=m(()=>Math.max(0,u.value+p.value-_.value)),h=m(()=>{const o=new Date;return o.setMinutes(o.getMinutes()+30),o.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}),w=o=>{const s=c.value.find(d=>d.id===o);s&&r.updateCartItemQuantity(o,s.quantity+1)},x=o=>{const s=c.value.find(d=>d.id===o);s&&s.quantity>1?r.updateCartItemQuantity(o,s.quantity-1):k(o)},k=o=>{r.removeFromCart(o)},q=()=>{b.push("/checkout")};return(o,s)=>{const d=S("router-link");return a(),i("div",$,[t("div",L,[s[14]||(s[14]=t("h1",null,"è´­ç‰©è½¦",-1)),l(c).length===0?(a(),i("div",R,[s[2]||(s[2]=t("div",{class:"empty-icon"},"ðŸ›’",-1)),s[3]||(s[3]=t("h2",null,"è´­ç‰©è½¦æ˜¯ç©ºçš„",-1)),s[4]||(s[4]=t("p",null,"å¿«åŽ»æ·»åŠ ä¸€äº›ç¾Žé£Ÿå§ï¼",-1)),N(d,{to:"/menu",class:"browse-menu-btn"},{default:I(()=>[...s[1]||(s[1]=[g("æµè§ˆèœå•",-1)])]),_:1})])):(a(),i("div",z,[t("div",E,[(a(!0),i(M,null,Q(l(c),n=>(a(),i("div",{key:n.id,class:"cart-item"},[t("img",{src:n.image,alt:n.name,class:"cart-item-image"},null,8,j),t("div",A,[t("h3",null,e(n.name),1),t("p",G,e(n.description),1),n.specialInstructions?(a(),i("div",H,[s[5]||(s[5]=t("strong",null,"ç‰¹æ®Šè¦æ±‚:",-1)),g(" "+e(n.specialInstructions),1)])):f("",!0),t("div",J,[t("span",K,e(n.category),1),t("span",O,"â±ï¸ "+e(n.prepTime)+" åˆ†é’Ÿ",1)])]),t("div",P,[t("div",U,[t("button",{onClick:C=>x(n.id),class:"quantity-btn"},"-",8,W),t("span",X,e(n.quantity),1),t("button",{onClick:C=>w(n.id),class:"quantity-btn"},"+",8,Y)]),t("div",Z," Â¥"+e((n.price*n.quantity).toFixed(2)),1),t("button",{onClick:C=>k(n.id),class:"remove-btn"}," ðŸ—‘ï¸ ",8,tt)])]))),128))]),t("div",st,[s[13]||(s[13]=t("h2",null,"è®¢å•æ±‡æ€»",-1)),t("div",nt,[t("div",ot,[s[6]||(s[6]=t("span",null,"å•†å“å°è®¡",-1)),t("span",null,"Â¥"+e(l(u).toFixed(2)),1)]),t("div",et,[s[7]||(s[7]=t("span",null,"é…é€è´¹",-1)),t("span",null,"Â¥"+e(p.value.toFixed(2)),1)]),l(u)>0?(a(),i("div",it,[s[8]||(s[8]=t("span",null,"ä¼˜æƒ ",-1)),t("span",null,"-Â¥"+e(_.value.toFixed(2)),1)])):f("",!0),s[10]||(s[10]=t("div",{class:"summary-divider"},null,-1)),t("div",at,[s[9]||(s[9]=t("span",null,"æ€»è®¡",-1)),t("span",null,"Â¥"+e(y.value.toFixed(2)),1)])]),t("div",lt,[s[12]||(s[12]=t("div",{class:"time-icon"},"â°",-1)),t("div",null,[s[11]||(s[11]=t("p",null,"é¢„è®¡é€è¾¾æ—¶é—´",-1)),t("p",rt,e(h.value),1)])]),t("button",{onClick:q,class:"checkout-btn"}," åŽ»ç»“ç®— (Â¥"+e(y.value.toFixed(2))+") ",1),t("button",{onClick:s[0]||(s[0]=(...n)=>l(v)&&l(v)(...n)),class:"clear-cart-btn"}," æ¸…ç©ºè´­ç‰©è½¦ ")])]))])])}}}),mt=D(ut,[["__scopeId","data-v-3d7ac363"]]);export{mt as default};
